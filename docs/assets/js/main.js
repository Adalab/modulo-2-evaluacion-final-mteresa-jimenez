"use strict";let series=[],favorites=[];function getData(e){e.preventDefault();const t=document.querySelector(".js-input-search");fetch("//api.tvmaze.com/search/shows?q="+t.value).then((function(e){return e.json()})).then(e=>{console.log(e),series=e,paintSearchEngine(),listenFavoriteSeries(),setLocalStorageFav()})}function paintSearchEngine(){let e="";e+='<section class="section1">',e+='<h2 class="favorites-title"> &#9733; Mi lista de favoritos</h2>',e+="<ul>";for(const t of favorites){e+="<li >",e+='<div class="favorites-list-container">';for(const s of series)t===parseInt(s.show.id)&&(null===s.show.image?e+='<img class="js-img-favorites img-favorites" src="https://via.placeholder.com/210x295/ffffff/666666/?\n        // text=TV"/>':e+=`<img class="js-img-favorites img-favorites" src="${s.show.image.medium}\n  "/>`,e+=`<h2 class="js-name-favorites name-favorites" maxlength="20">${s.show.name}</h2>`);e+='<button class="remove-favorite js-remove-favorite">x</button>',e+="</div>",e+="</li>"}e+="</ul>",e+="</section>",e+='<section class="section2">',e+='<ul class="section2-list">';for(const t of series){let s;s=-1===favorites.indexOf(t.show.id)?"":"favorite",e+=`<li class="js-series-item series-item ${s}"  id="${t.show.id}">`,e+='<div class="series-box">',null===t.show.image?e+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?\n      text=TV"/>':e+=`<img src="${t.show.image.medium}"/>`,e+=`<h2 class="series-name">${t.show.name}</h2>`,e+="</div>",e+="</li>"}e+="</ul>",e+="</section>";document.querySelector(".js-container").innerHTML=e}function markFavoriteSeries(e){const t=parseInt(e.currentTarget.id),s=favorites.indexOf(t);-1===s?favorites.push(t):favorites.splice(s,1),paintSearchEngine(),listenFavoriteSeries(),setLocalStorageFav()}function listenFavoriteSeries(){const e=document.querySelectorAll(".js-series-item");for(const t of e)t.addEventListener("click",markFavoriteSeries)}const btnElement=document.querySelector(".js-btn");function setLocalStorageFav(){localStorage.setItem("favorites",JSON.stringify(favorites))}function getLocalStorageFav(){const e=JSON.parse(localStorage.getItem("favorites"));favorites=null==e?[]:e,paintSearchEngine(),listenFavoriteSeries()}btnElement.addEventListener("click",getData),getLocalStorageFav();